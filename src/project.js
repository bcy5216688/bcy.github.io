require=function t(e,i,o){function n(s,r){if(!i[s]){if(!e[s]){var a="function"==typeof require&&require;if(!r&&a)return a(s,!0);if(c)return c(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var d=i[s]={exports:{}};e[s][0].call(d.exports,function(t){var i=e[s][1][t];return n(i||t)},d,d.exports,t,e,i,o)}return i[s].exports}for(var c="function"==typeof require&&require,s=0;s<o.length;s++)n(o[s]);return n}({ball:[function(t,e,i){"use strict";cc._RF.push(e,"e215862pUxLC6ZVexADeO7p","ball"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.startX=this.node.x,this.startY=this.node.y,this.rigidBody=this.node.getComponent(cc.RigidBody)},reset:function(){this.node.scale=1,this.node.x=this.startX,this.node.y=this.startY,this.rigidBody.linearVelocity=cc.p(0,0),this.rigidBody.angularVelocity=0},onBeginContact:function(t,e,i){2!=i.node.groupIndex||(this.node.active=!1)}}),cc._RF.pop()},{}],cue:[function(t,e,i){"use strict";cc._RF.push(e,"b54f3TsG3BHQbEewbVvJR4v","cue"),cc.Class({extends:cc.Component,properties:{shootPower:18},start:function(){this.body=this.node.getComponent(cc.RigidBody)},shootAt:function(t){var e=this.node.getPosition(),i=cc.pSub(t,e);console.log("dir:"+i.x+","+i.y);var o=this.shootPower*i.x,n=this.shootPower*i.y;console.log("power_x, power_y:"+o+","+n),this.body.applyLinearImpulse(cc.p(o,n),this.node.convertToWorldSpaceAR(cc.p(0,0)),!0)},onPreSolve:function(t,e,i){this.node.active=!1}}),cc._RF.pop()},{}],enablephy:[function(t,e,i){"use strict";cc._RF.push(e,"1eddbsK+5NF57nCZ9OffO5F","enablephy"),cc.Class({extends:cc.Component,properties:{is_debug:!1,gravity:cc.p(0,-320)},onLoad:function(){if(cc.director.getPhysicsManager().enabled=!0,this.is_debug){var t=cc.PhysicsManager.DrawBits;cc.director.getPhysicsManager().debugDrawFlags=t.e_jointBit|t.e_shapeBit}else cc.director.getPhysicsManager().debugDrawFlags=0;cc.director.getPhysicsManager().gravity=this.gravity}}),cc._RF.pop()},{}],game:[function(t,e,i){"use strict";cc._RF.push(e,"22b0cG8S31KfboHHJBZKvyz","game"),cc.Class({extends:cc.Component,properties:{ballRoot:{default:null,type:cc.Node},whiteBallNode:{default:null,type:cc.Node}},start:function(){this.isGameStart=!0},resetGame:function(){for(var t=0;t<this.ballRoot.childrenCount;t++)this.ballRoot.children[t].getComponent("ball").reset();this.whiteBallNode.getComponent("whiteball").reset(),this.isGameStart=!0},checkIsGameOver:function(){for(var t=0;t<this.ballRoot.childrenCount;t++)if(!0===this.ballRoot.children[t].active)return;this.isGameStart=!1,this.scheduleOnce(this.resetGame.bind(this),5)}}),cc._RF.pop()},{}],whiteball:[function(t,e,i){"use strict";cc._RF.push(e,"62530hf2lxMiqBj3wxws+oC","whiteball");var o=t("ball");cc.Class({extends:o,properties:{cueSpr:{default:null,type:cc.Node},minDis:20},onLoad:function(){this.cueScript=this.cueSpr.getComponent("cue"),this.startX=this.node.x,this.startY=this.node.y,this.rigidBody=this.node.getComponent(cc.RigidBody),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){var e=t.getLocation(),i=this.node.parent.convertToNodeSpaceAR(e),o=this.node.getPosition(),n=cc.pSub(i,o);if(cc.pLength(n)<this.minDis)this.cueSpr.active=!1;else{this.cueSpr.active=!0;var c=Math.atan2(n.y,n.x)/Math.PI*180;this.cueSpr.rotation=360-c+180,this.cueSpr.position=i}},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(t){!1!==this.cueSpr.active&&this.cueScript.shootAt(this.node.getPosition())},this)},onBeginContact:function(t,e,i){if(2==i.node.groupIndex)return this.node.scale=0,void this.scheduleOnce(this.reset.bind(this),1)}}),cc._RF.pop()},{ball:"ball"}]},{},["ball","cue","enablephy","game","whiteball"]);